(function(){"use strict";var e=200;var t;try{t=unsafeWindow}catch(n){t=window}var r=t.jQuery;var i=r("#ember735");r("<span style='font-weight:bold;'>Past "+e+" Commands</span>"+"<br/>"+"<span id='input-stats'/>"+"<br/>"+"<input id='custom-stats-code' type='text' value='anarchy/democracy'>"+"<span id='custom-stats'/>").insertBefore(i);var s=function(){var n={up:0,down:0,left:0,right:0,a:0,b:0,start:0,democracy:0,anarchy:0};var i=[];var s=t.CurrentChat.insert_chat_line;t.CurrentChat.insert_chat_line=function(r){for(var o in n){if(r.message.trim().match(new RegExp("^"+o+"$","i"))){n[o]++;i.push(o);while(i.length>e)n[i.shift()]--;break}}s.apply(t.CurrentChat,[r])};t.setInterval(function(){var e=[];r.each(n,function(t,n){e.push(t+": "+n)});r("#input-stats").html(e.join(", "));var t=r("#custom-stats-code").val();try{r("#custom-stats").html("&nbsp"+(new Function("with(this) { return "+t+"; }")).call(n).toString())}catch(i){r("#custom-stats").html("&nbsp;invalid expression")}},500)};r(function(){var e=t.setInterval(function(){if(r("#chat_loading_spinner").css("display")=="none"){t.clearInterval(e);s()}},100)})})()