(function(){"use strict";var e=200;var t=500;var n;try{n=unsafeWindow}catch(r){n=window}var i=n.jQuery;i("<style type='text/css'>"+".chart div div {"+"  font: 10px sans-serif;"+"  background-color: steelblue;"+"  text-align: right;"+"  margin: 0px;"+"  color: white;"+"  display: inline-block;"+"}"+".chart div span {"+"  font: 10px sans-serif;"+"  width: 50px;"+"  padding-right: 2px;"+"  text-align: right;"+"  display: inline-block;"+"}"+".chart div {"+"  font: 10px sans-serif;"+"  width: 100%;"+"  margin: 2px;"+"  white-space:nowrap;"+"}"+"</style>").appendTo("head");var s=i(".dynamic-player");i("<span style='font-weight:bold;'>Latest "+e+" Commands</span>"+"<div class='chart' id='input-stats'/>").insertAfter(s);var o=function(){var r={up:0,down:0,left:0,right:0,a:0,b:0,start:0,democracy:0,anarchy:0};var s=[];var o=n.CurrentChat.insert_chat_line;n.CurrentChat.insert_chat_line=function(t){for(var i in r){if(t.message.trim().match(new RegExp("^"+i+"$","i"))){r[i]++;s.push(i);while(s.length>e)r[s.shift()]--;break}}o.apply(n.CurrentChat,[t])};n.setInterval(function(){var e=[];i.each(r,function(t,n){e.push("<div><span>"+t+"</span><div style='width: "+Math.max(n*5,4)+"px;'>"+n+"</div></div>")});i("#input-stats").html(e.join(""))},t)};i(function(){var e=n.setInterval(function(){if(i("#chat_loading_spinner").css("display")=="none"){n.clearInterval(e);o()}},100)})})()